<!doctype html>
<html lang="eu">

<head>
    <meta charset="utf-8" />
    <title>Main</title>

    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../Styles/MainStyle.css" />
    <link rel="stylesheet" href="../Styles/Header.css" />
    <link rel="stylesheet" href="../Styles/Block.css" />
    <link rel="stylesheet" href="../Styles/ScrollbarStyle.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="header" class="header">
        <div class="topnav">
            <div>
                <a href="Index.html">Main</a>
                <a href="Services.html">Services</a>
                <a class="active" href="Projects.html">Projects</a>
                <a href="Blogs.html">Blogs</a>
                <a href="Contacts.html">Contacts</a>
            </div>
        </div>

        <div class="slogan">
            <p>"Expanding the possibilities"</p>
        </div>

        <div>
            <img class="image">
        </div>

    </div>

    <div class="content">

        <div class="title">
            <a>Projects</a>
        </div>

        <div id="projectScroller" class="scroller">
            <script>
                $.ajax({
                    url: 'https://localhost:7120/api/Projects',
                    type: 'get',
                    success: function(data) {
                        data.forEach(element => {

                            let div = document.createElement('div');
                            div.id = element["id"];
                            div.className = "block";
                            div.innerHTML = `
                                <div class="block-image"> 
                                    <img onclick="openDescription('${element["id"]}')" src="data:image/png;base64,${element["pictureBytePresentation"]}">
                                </div>
                                <div class="block-title-in">
                                    <p>${element["title"]}</p>
                                </div>`;

                            document.getElementById("projectScroller").append(div);
                        });
                    }

                });

                function openDescription(id) {
                    window.location.href = 'Project.html?id=' + id;
                }
            </script>
        </div>

    </div>
</body>

</html>