<!doctype html>
<html lang="eu">

<head>
    <meta charset="utf-8" />
    <title>Main</title>

    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../Styles/Header.css" />
    <link rel="stylesheet" href="../Styles/NavigationPanel.css" />
    <link rel="stylesheet" href="../Styles/Consultation.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="header" class="header">
        <div class="topnav">
            <div>
                <a class="active" href="Index.html">Main</a>
                <a href="Services.html">Services</a>
                <a href="Projects.html">Projects</a>
                <a href="Blogs.html">Blogs</a>
                <a href="Contacts.html">Contacts</a>
            </div>
        </div>

        <div class="slogan">
            <p>"Expanding the possibilities"</p>
        </div>

        <div>
            <img class="image">
        </div>

    </div>


    <div id="content" class="content">
        <button class="button" onclick="openConsultationPanel('consultation')">Submit your application</button>
    </div>


    <div id="consultation" style="display: none;" class="content">

        <h2>Ask a question or submit application</h2>

        <div class="text-panel">
            <input id="name" title="Имя" type="text" placeholder="Name" required>

            <input style="float: right;" id="email" title="E-mail" type="text" placeholder="E-mail" required>
        </div>


        <textarea id="description" placeholder="Description" required></textarea>

        <button class="button" style="float:right;" onclick="sendConsultation()">Отправить</button>

        <script>
            function sendConsultation() {

                let consultation = {
                    name: document.getElementById("name").value,
                    eMail: document.getElementById("email").value,
                    description: document.getElementById("description").value,
                };

                console.log(JSON.stringify(consultation));

                $.ajax({
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    url: 'https://localhost:7120/api/Consultations',
                    type: 'post',
                    data: JSON.stringify(consultation),
                    success: function(data) {
                        alert(data);
                    }
                });
            }


            function openConsultationPanel(element) {

                var e = document.getElementById(element);
                if (e.style.display == 'inline-block')
                    e.style.display = 'none';
                else
                    e.style.display = 'inline-block';

            }
        </script>
    </div>

</body>

</html>